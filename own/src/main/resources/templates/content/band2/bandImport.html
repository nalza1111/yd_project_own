<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"lang="ko">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
</style>
</head>
<body>
<h1>주요기능</h1>
<div>
<p>밴드장 위임</p>
<p>밴드장 위임할 멤버</p>
	<input type="hidden" th:value="${memList[0].bandNo}" id="bandNo">
	<select id="passid">
	<option>===============</option>
	<th:block th:each="list : ${memList}">
	<option th:text="${list.userId}" th:value="${list.userId}"></option>
	</th:block>
	</select>
	<button type="button" id="bandPassModal">
  Launch demo modal
</button>
</div>
<div>
<p>밴드 비활성화</p>
<p>'밴드 삭제' 버튼 클릭 시 자동으로 비활성화되며 30일동안 유예기간이 주어집니다.</p>
	<button type="button" id="bandDelModal">밴드 삭제</button>
	<button type="button" id="bandDisModal">휴면 해제</button>
</div>
</body>
<script th:inline="javascript">
/*<![CDATA[*/
var header = [[${_csrf.headerName}]];
  var token = [[${_csrf.token}]];
 console.log(header);
 console.log(token);
 /*]]>*/
$("#bandPassModal").on("click",function(){
	let bandLeaderid = $("#passid").val();
	let bandNo = $("#bandNo").val();
	console.log(bandNo);
	$.ajax({
			  url : '/own/band/bandGroup/bandPass',
					method : 'post',
					data : JSON.stringify({bandNo, bandLeaderid}),
					dataType : 'json',
					contentType : "application/json",
					beforeSend: function(xhr){
			              xhr.setRequestHeader(header,token);
			            }
		  }).then(res => {
			  console.log(res);
	})
})

$("#bandDelModal").on('click',function(){
	let bandNo = $("#bandNo").val()
	console.log('ㅎㅇㅇ')
	$.ajax({
			  url : '/own/band/bandGroup/bandHuman',
					method : 'post',
					data : {bandNo},
					beforeSend: function(xhr){
			              xhr.setRequestHeader(header,token);
			            }
		  }).then(res => {
			  console.log(res);
	})
})

$("#bandDisModal").on('click',function(){
	let bandNo = $("#bandNo").val()
	console.log('ㅎㅇㅇ')
	$.ajax({
			  url : '/own/band/bandGroup/bandDisHuman',
					method : 'post',
					data : {bandNo},
					beforeSend: function(xhr){
			              xhr.setRequestHeader(header,token);
			            }
		  }).then(res => {
			  console.log(res);
	})
})
</script>
</html>