<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" lang="ko">

<head>
	<!-- jquery -->
	<!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script> -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta content="Free HTML Templates" name="keywords" />
	<!-- Favicon -->
	<link href="/css/chall/img/favicon.ico" rel="icon" />
	<!-- Google Web Fonts -->
	<link rel="preconnect" href="https://fonts.gstatic.com" />
	<link href="https://fonts.googleapis.com/css2?family=Handlee&family=Nunito&display=swap" rel="stylesheet" />
	<!-- Font Awesome -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet" />
	<!-- Flaticon Font -->
	<link href="/css/chall/lib/flaticon/font/flaticon.css" rel="stylesheet" />
	<!-- Libraries Stylesheet -->
	<link href="/css/chall/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
	<link href="/css/chall/lib/lightbox/css/lightbox.min.css" rel="stylesheet" />
	<!-- Customized Bootstrap Stylesheet -->
	<link href="/css/chall/css/style.css" rel="stylesheet" />
	<!-- JavaScript Libraries -->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
	<script src="/css/chall/lib/easing/easing.min.js"></script>
	<script src="/css/chall/lib/owlcarousel/owl.carousel.min.js"></script>
	<script src="/css/chall/lib/isotope/isotope.pkgd.min.js"></script>
	<script src="/css/chall/lib/lightbox/js/lightbox.min.js"></script>
    <!-- Contact Javascript File -->
    <script src="/css/chall/mail/jqBootstrapValidation.min.js"></script>
    <script src="/css/chall/mail/contact.js"></script>
    <!-- Template Javascript -->
    <script src="/css/chall/js/main.js"></script>
	<meta charset="utf-8">
	<title>OWN _ 도전</title>
</head>

<body>
	<!-- 공통헤더 -->
	<!-- Navbar Start -->
	<div class="container-fluid bg-light position-relative shadow">
		<nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0 px-lg-5">
			<a href="" class="navbar-brand font-weight-bold text-secondary" style="font-size: 50px"> <span
					class="text-primary">OWN 오운</span>
			</a>
			<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
				<div class="navbar-nav font-weight-bold mx-auto py-0">
					<a href="index.html" class="nav-item nav-link">Home</a> <a href="about.html"
						class="nav-item nav-link">About</a> <a href="class.html" class="nav-item nav-link">Classes</a>
					<a href="team.html" class="nav-item nav-link">Teachers</a> <a href="gallery.html"
						class="nav-item nav-link">Gallery</a>
					<div class="nav-item dropdown">
						<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
						<div class="dropdown-menu rounded-0 m-0">
							<a href="blog.html" class="dropdown-item">Blog Grid</a> <a href="single.html"
								class="dropdown-item">Blog Detail</a>
						</div>
					</div>
					<a href="contact.html" class="nav-item nav-link active">Contact</a>
				</div>
				<a href="" class="btn btn-primary px-4">Join Class</a>
			</div>
		</nav>
	</div>
	<!-- Navbar End -->

	<!-- Header Start -->
	<div class="container-fluid bg-primary mb-5" style="padding: 0">
		<div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 400px; background-image: url(/img/chall/category/swim_main.jpg);
			background-size: contain">
			<!-- 	<img src="/img/chall/category/swim_main.jpg" style=" object-fit: cover"/> -->
			<div class="d-inline-flex text-white">
				<p class="m-0">
					<a class="text-white" href="">Home</a></p>
				<p class="m-0 px-2">/</p>
				<p class="m-0">Contact Us</p>
			</div>
		</div>
	</div>
	<!-- Header End -->
	<div>[[${paging}]]</div>
	<div th:if="${session.loginUser}">
		도전 홈 _ 로그인 중
		<h1 th:text="${session.loginUser.userId}"></h1>
		<input id="userId" type="hidden" th:value="${session.loginUser.userId}">
	</div>
	<div th:if="${session.loginUser} == null">로그인 안한 상태 로그인 하고 오시오.</div>
	<div th:if="${session.loginUser}">
		<a href="/own/chall/mypage">마이페이지</a>
		<a href="/own/chall/insertFormChall">도전만들러고고</a>
		<a href="/own/chall/myChall">내가만든도전보기</a>
	</div>

	<!-- 검색  -->
	<div class="container-fluid pt-4 mb-4" style="width: 650px">
		<div class="input-group">
			<input type="text" class="form-control form-control-lg" id="searchWord" placeholder="Keyword" />
			<div class="input-group-append" id="searchBtn">
				<span class="input-group-text bg-transparent text-primary"><i class="fa fa-search"></i></span>
			</div>
		</div>
	</div>
	<!-- 검색 끝 -->

	<a th:text="${paging1}"></a>
	<br>
	<hr>
	<a th:text="${paging2}"></a>
	<!-- 운동카테고리 -->
	<div class="container-fluid pt-4">
		<div class="container pb-4" style="width: 800px">
			<div class="row" style="justify-content: center;" id="categoryBtn">
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover"
						value="춤 댄스" picname="댄스" />
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_30.png" style="width: 80px; height: 80px; object-fit: cover"
						alt="하이킹" />
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_2.png" style="width: 80px; height: 80px; object-fit: cover"
						alt="3" />
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover" />
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>5댄스</p>
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>6댄스</p>
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/hiking.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>7하이킹</p>
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/swimming.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>8수영</p>
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>9댄스</p>
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>10댄스</p>
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>11댄스</p>
				</div>
				<div style="text-align: center; width: 120px; height: 120px">
					<img src="/img/chall/category/EXS_6.png" style="width: 80px; height: 80px; object-fit: cover" />
					<p>12댄스</p>
				</div>
			</div>
		</div>
	</div>
	<!-- 운동카테고리 끝 -->


    <!-- Testimonial Start -->
	<div class="container-fluid py-5">
      <div class="container p-0">
        <div class="text-center pb-2">
          <p class="section-title px-5">
            <span class="px-2">Testimonial</span>
          </p>
          <h1 class="mb-4">What Parents Say!</h1>
        </div>
      <!-- 한개를 붙여야.. 밑에 점들이 나온다 ㅋ...이유는 모르겠음.. 그리고원래 갯수만큼..나오는데왜안노오-->
        <div class="owl-carousel testimonial-carousel" >
         <div class="testimonial-item px-3" >
            <div class="bg-light shadow-sm rounded mb-4 p-4">
              <h3 class="fas fa-quote-left text-primary mr-3">나의 도전 보러가기</h3>
            </div>
            <div class="d-flex align-items-center">
              <img
                class="rounded-circle"
                src="img/testimonial-4.jpg"
                style="width: 70px; height: 70px"
                alt="Image"
              />
              <div class="pl-3">
                <h5>77777777777</h5>
                <i>Profession</i>
              </div>
            </div>
          </div>
          
        <th:block th:each="my: ${myChall}">
          <div class="testimonial-item px-3">
            <div class="bg-light shadow-sm rounded mb-4 p-4">
              <h3 class="fas fa-quote-left text-primary mr-3" th:text="${my.challTitle}"></h3>
            </div>
            <div class="d-flex align-items-center">
              <img
                class="rounded-circle" th:src="|/imgView/${my.firstImage}|" style="width: 70px; height: 70px"
                alt="Image"
              />
              <div class="pl-3">
                <h5  th:text="${my.challTitle}"></h5>
                <a th:href="@{/own/chall/detailChall(challNo = ${#strings.substringAfter(my.challNo, 'CHA_')})}"
				class="btn btn-primary px-4 mx-auto my-2">상세보기</a>
              </div>
            </div>
          </div>
          </th:block>
        </div>
      </div>
    </div> 
    <!-- Testimonial End -->
    
        <!-- Testimonial Start3333 -->
	<div class="container-fluid py-5">
      <div class="container p-0">
        <div class="text-center pb-2">
          <p class="section-title px-5">
            <span class="px-2">Testimonial</span>
          </p>
          <h1 class="mb-4">What's New Challenges!</h1>
        </div>

        <div class="owl-carousel testimonial-carousel" >
        <th:block th:each="my: ${myChall}">
          <div class="testimonial-item col-lg-4 mb-4">
						<div class="card border-0 shadow-sm mb-2" style="width: 300px">
							<img class="card-img-top mb-2" th:src="|/imgView/${my.firstImage}|" alt="도전사진"
								style="height: 230px; object-fit: cover" />
							<div class="card-body bg-light text-center p-4">
								<input type="hidden" th:value="${my.challNo}" />
								<h5 class="" th:text="${my.challTitle}"></h5>
								<div class="d-flex justify-content-center mb-3">
									<small class="mr-3">[[${#dates.format(my.challStartdate, 'M/d')}]]시작</small>
									<small class="mr-3">[[${my.challDuration}]]주 동안</small> 
									<small class="mr-3">주 [[${my.challFreq}]]회</small>
								</div>
								<a th:href="@{/own/chall/detailChall(challNo = ${#strings.substringAfter(my.challNo, 'CHA_')})}"
									class="btn btn-primary px-4 mx-auto my-2">상세보기</a>
							</div>
						</div>
					
          </div>
          </th:block>
        </div>
      </div>
    </div> 
    <!-- Testimonial End -->
    
	<!-- 나의 도전 -->
	<div class="container-fluid pt-3" th:if="${myChall}">
		<div class="container">
			<div class="text-center pb-2">
				<p class="section-title px-5">
					<span class="px-2">My Page</span>
				</p>
				<h1 class="mb-4">나의 도전</h1>
			</div>
			<!-- 여기부터  6개 한블럭? -->
			<div class="row pb-3" id="rowMyChall">
				<th:block th:each="my: ${myChall}">
					<div class="col-lg-4 mb-4">
						<div class="card border-0 shadow-sm mb-2" style="min-width: 300px">
							<img class="card-img-top mb-2" th:src="|/imgView/${my.firstImage}|" alt="도전사진"
								style="height: 230px;"/>
							<div class="card-body bg-light text-center p-4" style="width: 300px">
								<input type="hidden" th:value="${my.challNo}" />
								<h4 class="" th:text="${my.challTitle}"></h4>
								<div class="d-flex justify-content-center mb-3">
									<small class="mr-3">[[${#dates.format(my.challStartdate, 'M/d')}]]시작</small>
									<small class="mr-3">[[${my.challDuration}]]주 동안</small> 
									<small class="mr-3">주 [[${my.challFreq}]]회</small>
								</div>
								<a th:href="@{/own/chall/detailChall(challNo = ${#strings.substringAfter(my.challNo, 'CHA_')})}"
									class="btn btn-primary px-4 mx-auto my-2">상세보기</a>
							</div>
						</div>
					</div>
				</th:block>
			</div>
		</div>
		<!-- 도전 6개 끝 -->

		<!-- 페이징 -->
		<nav class="blog-pagination justify-content-center d-flex pageBtn"  th:if="${myChall}"
			id="pageMyChall">
			<!--================ 이전  =================-->
			<ul class="pagination">
				<li class="page-item" th:if="${myChall[0].paging.startPage>1}"><a
					class="page-link" aria-label="Previous"
					th:value="${myChall[0].paging.startPage-1}"> <span aria-hidden="true"><span
							class="lnr lnr-chevron-left pagePort"></span></span></a></li>
				<!--================ 페이지 이동 1_2_3_4_5  =================-->
				<th:block
					th:each="pag:${#numbers.sequence(myChall[0].paging.startPage,myChall[0].paging.endPage)}">
					<li class="page-item" th:if="${pag != myChall[0].paging.page}"><a
						class="page-link pagePort" th:value="${pag}"
						th:text="${#numbers.formatInteger(pag,1)}"></a></li>
					<li class="page-item active" th:if="${pag==myChall[0].paging.page}"><a
						class="page-link" th:text="${#numbers.formatInteger(pag,1)}"></a>
					</li>
				</th:block>
				<!--================ 페이지 이동 1_2_3_4_5 끝 =================-->
				<!--================ 이후  =================-->
				<li class="page-item" th:if="${myChall[0].paging.endPage<myChall[0].paging.lastPage}">
					<a class="page-link pagePort" aria-label="Next"
					th:value="${myChall[0].paging.endPage+1}"> <span aria-hidden="true"><span
							class="lnr lnr-chevron-right"></span></span></a>
				</li>
			</ul>
		</nav>
		<!-- 페이징 -->


	</div>

	<!-- 나의도전 끝 -->

	<!-- 새로운 도전 -->
	<div class="container-fluid pt-5">
		<div class="container">
			<div class="text-center pb-2">
				<p class="section-title px-5">
					<span class="px-2">New challenge</span>
				</p>
				<h1 class="mb-4">새로운 도전</h1>
			</div>
			<div class="row pb-3" id="rowPopChall">
				<th:block th:each="cha: ${popChall}">
					<div class="col-lg-4 mb-5">
						<div class="card border-0 bg-light shadow-sm pb-2">
							<input type="hidden" th:value="${cha.challNo}" /> <img
								class="card-img-top mb-2" th:src="|/imgView/${cha.firstImage}|"
								alt="" />
							<div class="card-body text-center">
								<h4 class="card-title" th:text="${cha.challTitle}"></h4>
								<p class="card-text">간단소개?</p>
							</div>
							<div class="card-footer bg-transparent py-4 px-5">
								<div class="row border-bottom">
									<div class="col-6 py-1 text-right border-right">
										<strong>CATEGORY</strong>
									</div>
									<div class="col-6 py-1" th:text="${cha.challCategory}"></div>
								</div>
								<div class="row border-bottom">
									<div class="col-6 py-1 text-right border-right">
										<strong>START DATE</strong>
									</div>
									<div class="col-6 py-1"
										th:text="${#dates.format(cha.challStartdate, 'MM월 dd일')}"></div>
								</div>
								<div class="row border-bottom">
									<div class="col-6 py-1 text-right border-right">
										<strong>도전 횟수</strong>
									</div>
									<div class="col-6 py-1" th:text="${cha.challFreq}"></div>
								</div>
								<div class="row border-bottom">
									<div class="col-6 py-1 text-right border-right">
										<strong>도전 금액</strong>
									</div>
									<div class="col-6 py-1" th:text="${cha.challPrice}"></div>
								</div>
								<div class="row border-bottom">
									<div class="col-6 py-1 text-right border-right">
										<strong>현재 도전 회원</strong>
									</div>
									<div class="col-6 py-1" th:text="${cha.nowMem}"></div>
								</div>
								<div class="row">
									<div class="col-6 py-1 text-right border-right">
										<strong>도전 기간</strong>
									</div>
									<div class="col-6 py-1" th:text="${cha.challDuration}"></div>
								</div>
							</div>
							<a
								th:href="@{/own/chall/detailChall(challNo = ${#strings.substringAfter(cha.challNo, 'CHA_')})}"
								class="btn btn-primary px-4 mx-auto mb-4">상세보기</a>
						</div>
					</div>
				</th:block>
			</div>
		</div>

		<!-- 페이징버튼 넣기 -->
		<nav class="blog-pagination justify-content-center d-flex pageBtn"
			id="pagePopChall">
			<!--================ 이전  =================-->
			<ul class="pagination">
				<li class="page-item" th:if="${popChall[0].paging.startPage>1}"><a
					class="page-link" aria-label="Previous"
					th:value="${popChall[0].paging.startPage-1}"> <span aria-hidden="true"> << <span
							class="lnr lnr-chevron-left pagePort"></span></span></a></li>
				<!--================ 페이지 이동 1_2_3_4_5  =================-->
				<th:block
					th:each="pag:${#numbers.sequence(popChall[0].paging.startPage,popChall[0].paging.endPage)}">
					<li class="page-item" th:if="${pag != popChall[0].paging.page}"><a
						class="page-link pagePort" th:value="${pag}"
						th:text="${#numbers.formatInteger(pag,1)}"></a></li>
					<li class="page-item active" th:if="${pag==popChall[0].paging.page}"><a
						class="page-link" th:text="${#numbers.formatInteger(pag,1)}"></a>
					</li>
				</th:block>
				<!--================ 페이지 이동 1_2_3_4_5 끝 =================-->
				<!--================ 이후  =================-->
				<li class="page-item" th:if="${popChall[0].paging.endPage<popChall[0].paging.lastPage}">
					<a class="page-link pagePort" aria-label="Next"
					th:value="${popChall[0].paging.endPage+1}"> <span aria-hidden="true"> >> <span
							class="lnr lnr-chevron-right"></span></span></a>
				</li>
			</ul>
		</nav>
		<!-- 페이징버튼 끝 -->
	</div>
	<!-- 새로운 도전 끝 -->

	<!-- 인기 도전 -->
	<!-- 인기도전 끝 -->

	<!-- Footer Start -->
	<div
		class="container-fluid bg-secondary text-white mt-5 py-5 px-sm-3 px-md-5">
		<div class="row pt-5">
			<div class="col-lg-3 col-md-6 mb-5">
				<a href=""
					class="navbar-brand font-weight-bold text-primary m-0 mb-4 p-0"
					style="font-size: 40px; line-height: 40px"> <i
					class="flaticon-043-teddy-bear"></i> <span class="text-white">KidKinder</span>
				</a>
				<p>Labore dolor amet ipsum ea, erat sit ipsum duo eos. Volup
					amet ea dolor et magna dolor, elitr rebum duo est sed diam elitr.
					Stet elitr stet diam duo eos rebum ipsum diam ipsum elitr.</p>
				<div class="d-flex justify-content-start mt-4">
					<a
						class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
						style="width: 38px; height: 38px" href="#"><i
						class="fab fa-twitter"></i></a> <a
						class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
						style="width: 38px; height: 38px" href="#"><i
						class="fab fa-facebook-f"></i></a> <a
						class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
						style="width: 38px; height: 38px" href="#"><i
						class="fab fa-linkedin-in"></i></a> <a
						class="btn btn-outline-primary rounded-circle text-center mr-2 px-0"
						style="width: 38px; height: 38px" href="#"><i
						class="fab fa-instagram"></i></a>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 mb-5">
				<h3 class="text-primary mb-4">Get In Touch</h3>
				<div class="d-flex">
					<h4 class="fa fa-map-marker-alt text-primary"></h4>
					<div class="pl-3">
						<h5 class="text-white">Address</h5>
						<p>123 Street, New York, USA</p>
					</div>
				</div>
				<div class="d-flex">
					<h4 class="fa fa-envelope text-primary"></h4>
					<div class="pl-3">
						<h5 class="text-white">Email</h5>
						<p>info@example.com</p>
					</div>
				</div>
				<div class="d-flex">
					<h4 class="fa fa-phone-alt text-primary"></h4>
					<div class="pl-3">
						<h5 class="text-white">Phone</h5>
						<p>+012 345 67890</p>
					</div>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 mb-5">
				<h3 class="text-primary mb-4">Quick Links</h3>
				<div class="d-flex flex-column justify-content-start">
					<a class="text-white mb-2" href="#"><i
						class="fa fa-angle-right mr-2"></i>Home</a> <a class="text-white mb-2"
						href="#"><i class="fa fa-angle-right mr-2"></i>About Us</a> <a
						class="text-white mb-2" href="#"><i
						class="fa fa-angle-right mr-2"></i>Our Classes</a> <a
						class="text-white mb-2" href="#"><i
						class="fa fa-angle-right mr-2"></i>Our Teachers</a> <a
						class="text-white mb-2" href="#"><i
						class="fa fa-angle-right mr-2"></i>Our Blog</a> <a class="text-white"
						href="#"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
				</div>
			</div>
			<div class="col-lg-3 col-md-6 mb-5">
				<h3 class="text-primary mb-4">Newsletter</h3>
				<form action="">
					<div class="form-group">
						<input type="text" class="form-control border-0 py-4"
							placeholder="Your Name" required="required" />
					</div>
					<div class="form-group">
						<input type="email" class="form-control border-0 py-4"
							placeholder="Your Email" required="required" />
					</div>
					<div>
						<button class="btn btn-primary btn-block border-0 py-3"
							type="submit">Submit Now</button>
					</div>
				</form>
			</div>
		</div>
		<div class="container-fluid pt-5"
			style="border-top: 1px solid rgba(23, 162, 184, 0.2);">
			<p class="m-0 text-center text-white">
				&copy; <a class="text-primary font-weight-bold" href="#">Your
					Site Name</a>. All Rights Reserved.

				<!--/*** This template is free as long as you keep the footer author’s credit link/attribution link/backlink. If you'd like to use the template without the footer author’s credit link/attribution link/backlink, you can purchase the Credit Removal License from "https://htmlcodex.com/credit-removal". Thank you for your support. ***/-->
				Designed by <a class="text-primary font-weight-bold"
					href="https://htmlcodex.com">HTML Codex</a> <br />Distributed By:
				<a href="https://themewagon.com" target="_blank">ThemeWagon</a>
			</p>
		</div>
	</div>
	<!-- Footer End -->
	
	<!-- Back to Top -->
    <a href="#" class="btn btn-primary p-3 back-to-top" >
    	<i class="fa fa-angle-double-up"></i></a>
	<script>
	 //카테고리 그림 클릭 시 검색으로 이동
	    $('#categoryBtn div img').click(function(){
	    	console.log(this);
	    	let picname = $(this).attr('picname');
	    	console.log(picname);
	    	//아작스로 이동
	    	location.href = '/own/chall/applyForm?challNo=' + cNo
	    })
    
	    //흑흑
	    // Testimonials carousel
    $(".testimonial-carousel").owlCarousel({
        center: true,
        autoplay: true,
        smartSpeed: 2000,
        dots: true,
        loop: true,
        responsive: {
            0:{
                items:1
            },
            576:{
                items:1
            },
            768:{
                items:2
            },
            992:{
                items:3
            }
        }
    });
	    
 		//검색
 		$('#searchBtn').on('click', function(){
 			console.log("헐헐");
 			console.log($('#searchWord').val());
			let searchWord = $('#searchWord').val();
			console.log(searchWord);
			if(searchWord != ''){
				location.href = '/own/chall/searchChall?searchWord=' + searchWord
			} else if(searchWord == ''){
				alert('검색어를 입력해주세요!');
			}
 		})

		// 인기 도전 페이징 처리..아작스
		$('#pagePopChall').on('click', '.pagePort', function(){
		    //페이지번호 + 밴드식별번호
		    let page = $(this).attr('value');
		    console.log($(this).attr('value'));
		    $.ajax({
		       url: '/own/chall/popChallAjax?page='+page,
		       method: 'get',
		    }).then(result => {
		       console.log(result);
				//형태만들기 이미있는애들 없애준다..
				let Chall = $('#rowPopChall')
				let rowname = "rowPopChall";
				$('#rowPopChall').empty();
				//다시 형태 붙이는애 만들어주기..
				result.forEach( cha => {
					makeChallDiv(cha, rowname);
		       	})
				//버튼 다시초기화..비우기
				$('#pagePopChall').empty();
		        let pagingM = result[0].paging;
		         //시작 버튼
		        console.log(result[0]); //첫번째? 가져오기..?
		          let startpageTag = $('<ul class="pagination" />');
		          $('#pagePopChall').append(startpageTag);
		          //이전 버튼만들기
		          if(pagingM.startPage>1){
					let pageBeforTag = `<li class="page-item">
                                 <a class="page-link pagePort" aria-label="Previous" value=${pagingM.startPage-1}>
                                 <span aria-hidden="true"> <-
								 <span class="lnr lnr-chevron-left pagePort"></span></span></a>
                                 </li>`
                    startpageTag.append(pageBeforTag); 
		          }               
		          //페이지목록..
		          for(let pg = pagingM.startPage; pg<=pagingM.endPage; pg++){
		             if(pg != pagingM.page){
		                let pageTag = `<li class="page-item">
		                            <a class="page-link pagePort" value=${pg}>${pg}</a>
		                            </li>`
		                startpageTag.append(pageTag);
		             } else if(pg == pagingM.page ){
						 let pageTag =  `<li class="page-item active">
							<a class="page-link" >${pg}</a>
							</li>`
							startpageTag.append(pageTag);
						}
					}               
					//이후 버튼만들기
					if(pagingM.endPage<pagingM.lastPage){
						let pageAfterTag =`<li class="page-item">
							<a class="page-link pagePort" aria-label="Next" value=${pagingM.endPage+1}>
								<span aria-hidden="true"> ->
								<span class="lnr lnr-chevron-right"></span></span></a>
								</li>`
								startpageTag.append(pageAfterTag);
							}
							$('#pagePopChall').append(startpageTag);
				})
		   })

		// 나의 도전 페이징 처리..아작스
		$('#pageMyChall').on('click', '.pagePort', function(){
		    //페이지번호 + 밴드식별번호
		    let page = $(this).attr('value');
		    console.log($(this).attr('value'));
		    $.ajax({
		       url: '/own/chall/myChallAjax?page='+page,
		       method: 'get',
		    }).then(result => {
		       console.log(result);
				//형태만들기
				let Chall = $('#rowMyChall')
				let rowname = "rowMyChall";
				$('#rowMyChall').empty();
				result.forEach( cha => {
					makeChallDiv(cha, rowname);
		       	})
				//페이지버튼 초기화
				$('#pageMyChall').empty();
		        let pagingM = result[0].paging;
		         //시작 버튼
		        console.log(result[0]); //첫번째? 가져오기..?
		          let startpageTag = $('<ul class="pagination" />');
		          $('#pageMyChall').append(startpageTag);
		          //이전 버튼만들기
		          if(pagingM.startPage>1){
					let pageBeforTag = `<li class="page-item">
                                 <a class="page-link pagePort" aria-label="Previous" value=${pagingM.startPage-1}>
                                 <span aria-hidden="true"> <-
								 <span class="lnr lnr-chevron-left pagePort"></span></span></a>
                                 </li>`
                    startpageTag.append(pageBeforTag); 
		          }               
		          //페이지목록..
		          for(let pg = pagingM.startPage; pg<=pagingM.endPage; pg++){
		             if(pg != pagingM.page){
		                let pageTag = `<li class="page-item">
		                            <a class="page-link pagePort" value=${pg}>${pg}</a>
		                            </li>`
		                startpageTag.append(pageTag);
		             } else if(pg == pagingM.page ){
						 let pageTag =  `<li class="page-item active">
							<a class="page-link" >${pg}</a>
							</li>`
							startpageTag.append(pageTag);
						}
					}               
					//이후 버튼만들기
					if(pagingM.endPage<pagingM.lastPage){
						let pageAfterTag =`<li class="page-item">
							<a class="page-link pagePort" aria-label="Next" value=${pagingM.endPage+1}>
								<span aria-hidden="true"> ->
								<span class="lnr lnr-chevron-right"></span></span></a>
								</li>`
								startpageTag.append(pageAfterTag);
							}
							$('#pageMyChall').append(startpageTag);
				})
		   })

		//챌린지 폼 만들기
		function makeChallDiv(cha, rowname){
			let challNo = cha.challNo.substr(4);
			let div1 = $('<div />').addClass("col-lg-4 mb-4");
			let div2 = $('<div />').addClass("card border-0 shadow-sm mb-2");
			let hiddenInput = $('<input />').attr('type', 'hidden').val(cha.challNo);
			let img2_1 = $('<img />').addClass("card-img-top mb-2").attr('src', '/imgView/'+ cha.firstImage).attr('style', 'height:230px; object-fit: cover')
			let div2_2 = $('<div />').addClass("card-body bg-light text-center p-4")
			let h4_3 = $('<h4 />').addClass("card-title"). text(cha.challTitle);
			let div_3 = $('<div />').addClass("d-flex justify-content-center mb-3").append(($('<small />').addClass("mr-3").text(cha.nowMem + '참여중')),
																						   ($('<small />').addClass("mr-3").text(cha.challDuration + '주 동안')),
																						   ($('<small />').addClass("mr-3").text('주 '+cha.challFreq + '회'))
																						  );
			let a_3 = $('<a />').addClass("btn btn-primary px-4 mx-auto my-2").attr('href', 'detailChall?challNo=' + challNo).text('도전하러 가기'); 
			div1.append(div2.append(hiddenInput, img2_1, div2_2.append(h4_3, div_3, a_3)));
			let row = $(`#${rowname}`).append(div1);
			// $('#rowPopChall').append(div1);
		}
			
</script>
</body>
</html>